{"version":3,"sources":["../../src/fields/addressField.ts","../../src/fields/arrayRowLabelField.ts","../../src/fields/timeField.ts","../../src/fields/openingHoursField.ts","../../src/fields/urlField.ts","../../src/fields/socialsField.ts"],"sourcesContent":["import { createField } from '@/utils/createField.js'\nimport { field } from '@/utils/field.js'\nimport { createObjectKeys } from '@konstant/utilities-ui'\n\nconst fields = createObjectKeys([\n  'addressLine1',\n  'addressLine2',\n  'city',\n  'location',\n  'postalCode',\n  'state',\n])\n\ntype FieldKeys = keyof typeof fields\n\nexport const addressField = createField<{\n  hideFields?: FieldKeys[]\n}>((props) => {\n  const fieldCondition = (fieldName: FieldKeys) => {\n    if (!props.hideFields?.length) {\n      return true\n    }\n    return props.hideFields.includes(fieldName) ? false : true\n  }\n\n  return field({\n    name: props.name ?? 'address',\n    type: 'group',\n    admin: {\n      condition: props?.condition,\n      description: props?.description,\n      hideGutter: props?.hideGutter,\n    },\n    fields: [\n      field({\n        type: 'row',\n        fields: [\n          field({\n            name: 'addressLine1',\n            type: 'text',\n            label: 'Address',\n            localized: false,\n            required: false,\n          }),\n          field({\n            name: 'addressLine2',\n            type: 'text',\n            admin: {\n              condition: (_) => fieldCondition('addressLine2'),\n            },\n            label: 'Address extra',\n            localized: false,\n            required: false,\n          }),\n        ],\n      }),\n      field({\n        type: 'row',\n        fields: [\n          field({\n            name: 'state',\n            type: 'text',\n            admin: {\n              condition: (_) => fieldCondition('state'),\n            },\n            label: 'State',\n            localized: false,\n            required: false,\n          }),\n          field({\n            name: 'city',\n            type: 'text',\n            admin: {\n              condition: (_) => fieldCondition('city'),\n            },\n            label: 'City',\n            localized: false,\n            required: false,\n          }),\n          field({\n            name: 'postalCode',\n            type: 'text',\n            admin: {\n              condition: (_) => fieldCondition('postalCode'),\n            },\n            label: 'Postal Code',\n            localized: false,\n            required: false,\n          }),\n        ],\n      }),\n      field({\n        name: 'location',\n        type: 'point',\n        admin: {\n          condition: (_) => fieldCondition('location'),\n        },\n        localized: false,\n        required: false,\n      }),\n    ],\n    interfaceName: 'Address',\n    label: props?.label,\n    localized: false,\n  })\n})\n","export const arrayRowLabelField = (props: { fieldName: string; prefix: string }) => {\n  return {\n    clientProps: props,\n    path: '@konstant/utilities-payload/client#ArrayRowLabel',\n  }\n}\n","import { createField } from '@/utils/createField.js'\nimport { field } from '@/utils/field.js'\n\nexport const timeField = createField((props) =>\n  field({\n    name: props.name ?? 'time',\n    type: 'date',\n    label: props.label ?? 'Time',\n    localized: false,\n    required: props?.required,\n\n    // defaultValue: name === \"open\" ? \"09:00\" : \"16:00\",\n    admin: {\n      condition: props?.condition,\n      date: {\n        displayFormat: 'HH:mm',\n        pickerAppearance: 'timeOnly',\n        timeFormat: 'HH:mm',\n      },\n      description: props?.description,\n    },\n  }),\n)\n","import { field } from '@/utils/field.js'\nimport { toCapitalized } from '@konstant/utilities-ui'\n\nimport { arrayRowLabelField } from './arrayRowLabelField.js'\nimport { timeField } from './timeField.js'\n\nexport const weekdaysMap: Record<string, string> = {\n  1: 'Mondays',\n  2: 'Tuesdays',\n  3: 'Wednesdays',\n  4: 'Thursdays',\n  5: 'Fridays',\n  6: 'Saturdays',\n  7: 'Sundays',\n}\n\nconst dayOptions = Object.keys(weekdaysMap).map((key) => ({\n  label: weekdaysMap[key] || '',\n  value: key,\n}))\n\nexport const openingHoursField = () => {\n  const items = field({\n    name: 'items',\n    type: 'array',\n    admin: {\n      components: {\n        RowLabel: arrayRowLabelField({\n          fieldName: 'label',\n          prefix: '',\n        }),\n      },\n    },\n    fields: [\n      field({\n        name: 'days',\n        type: 'select',\n        defaultValue: [],\n        hasMany: true,\n        localized: false,\n        options: dayOptions,\n        required: true,\n      }),\n      field({ name: 'label', type: 'text', localized: true, required: true }),\n      ...timeFields(),\n    ],\n    label: 'Opening Hours',\n  })\n\n  const customOpeningHours = field({\n    name: 'custom',\n    type: 'array',\n    fields: [\n      field({ name: 'label', type: 'text', localized: true, required: true }),\n      field({\n        name: 'date',\n        type: 'date',\n        admin: {\n          date: {\n            displayFormat: 'd MMM yyy',\n            pickerAppearance: 'dayOnly',\n          },\n        },\n        label: 'Date',\n        localized: false,\n        required: true,\n      }),\n      ...timeFields(),\n    ],\n    label: 'Custom Opening Hours',\n  })\n\n  return field({\n    name: 'openingHours',\n    type: 'group',\n    fields: [items, customOpeningHours],\n    interfaceName: 'OpeningHours',\n    label: '',\n  })\n}\n\nconst timeFields = () => {\n  return [\n    field({\n      type: 'row',\n      admin: {\n        condition: (_, siblingData) => !siblingData.isClosed,\n      },\n      fields: ['openingTime', 'closingTime'].map((name) =>\n        timeField({ name, label: toCapitalized(name) }),\n      ),\n    }),\n    field({ name: 'isClosed', type: 'checkbox', label: 'Closed whole day' }),\n    field({\n      name: 'closedLabel',\n      type: 'text',\n      admin: { condition: (_, siblingData) => siblingData.isClosed },\n    }),\n  ]\n}\n","import { createField } from '@/utils/createField.js'\nimport { field } from '@/utils/field.js'\n\nexport const urlField = createField((props) => {\n  const required = props?.required ?? true\n  return field({\n    name: props?.name ?? 'url',\n    type: 'text',\n    admin: {\n      condition: props?.condition,\n    },\n    hasMany: false,\n    label: props?.label ?? 'Url',\n    required,\n    validate: (val: any) => {\n      if (!required && !val) {\n        return true\n      }\n      try {\n        new URL(val)\n        return true\n      } catch (err: any) {\n        return 'Invalid URL'\n      }\n    },\n  })\n})\n","import { createField } from '@/utils/createField.js'\nimport { createFieldOptions } from '@/utils/createFieldOptions.js'\nimport { field } from '@/utils/field.js'\n\nimport { urlField } from './urlField.js'\n\nconst socialsOptions = createFieldOptions([\n  'facebook',\n  'instagram',\n  'linkedin',\n  'strava',\n  'twitter',\n])\ntype SocialsTypes = keyof typeof socialsOptions.values\n\nconst fields = (showOnly: SocialsTypes[] = []) => {\n  const { options } = socialsOptions\n\n  return options.map((option) => {\n    const show = showOnly.length === 0 || showOnly.includes(option.value)\n\n    return urlField({\n      name: option.value,\n      condition: () => show,\n      label: option.label,\n      overrides: {\n        admin: {\n          width: '50%',\n        },\n      },\n      required: false,\n    })\n  })\n}\n\nexport const socialsField = createField<{\n  showOnly: SocialsTypes[]\n}>((props) => {\n  return field({\n    name: props.name || 'socialMedia',\n    type: 'group',\n    fields: [\n      field({\n        type: 'row',\n        fields: fields(props.showOnly),\n      }),\n    ],\n    label: props.label || 'Social Media',\n  })\n})\n"],"mappings":"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","names":["fields"]}