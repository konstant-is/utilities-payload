{"version":3,"sources":["../src/index.ts","../src/utils/blockBuilder.ts","../src/utils/createBlock.ts","../src/utils/createCollectionConfig.ts","../src/utils/createField.ts","../src/utils/createGlobalConfig.ts"],"sourcesContent":["export * from './utils/blockBuilder.js'\nexport * from './utils/createBlock.js'\nexport * from './utils/createCollectionConfig.js'\nexport * from './utils/createField.js'\nexport * from './utils/createGlobalConfig.js'\n","import type { Block } from 'payload'\n\ntype BlockConfig = Record<string, (props: unknown) => Block>\ntype BlockKey = keyof BlockConfig\n\nexport const blockBuilder = (config: BlockConfig) => {\n  const helper = blockBuilderHelper({\n    config,\n  })\n\n  return helper\n}\n\nexport const blockBuilderHelper = (props: { config: BlockConfig }) => {\n  const { config } = props\n\n  let blockKeys =\n    Object.keys(config).filter((b) => {\n      const blockSettings = config[b]\n\n      if (typeof blockSettings === 'boolean' && blockSettings === false) {\n        return false\n      }\n\n      return true\n    }) || []\n\n  const exclude = (...blocks: BlockKey[]) => {\n    // Filter out block keys that are included in the blocks parameter\n    blockKeys = blockKeys.filter((key: BlockKey) => !blocks.includes(key))\n    return builder\n  }\n\n  const filter = (predicate: (value: string, index: number) => boolean) => {\n    blockKeys = blockKeys.filter(predicate)\n  }\n\n  const only = (...blocks: BlockKey[]) => {\n    // Filter out block keys that are not included in the blocks parameter\n    blockKeys = blockKeys.filter((key: BlockKey) => blocks.includes(key))\n    return builder\n  }\n\n  const build = (params?: unknown): Block[] => {\n    const blocks = blockKeys.map((key) => {\n      const block = config[key]\n\n      if (!block) {\n        console.error(`Block ${key} not found in blockMap`)\n        return null\n      }\n      return block(params)\n    })\n    return blocks.filter((b) => b !== null)\n  }\n\n  const builder = {\n    build,\n    exclude,\n    filter,\n    only,\n  }\n\n  return builder\n}\n","import type { Block } from 'payload'\n\nexport const createBlock = (block: Block): Block => {\n  const fallbackInterfaceName = () =>\n    block.slug.includes('Block') ? block.slug : `${block.slug}Block`\n\n  return {\n    ...block,\n    interfaceName: block?.interfaceName || fallbackInterfaceName(),\n  }\n}\n","import type { CollectionConfig } from 'payload'\n\nexport const createCollectionConfig = (config: CollectionConfig): CollectionConfig => {\n  return {\n    access: {\n      read: () => true,\n      ...config.access,\n    },\n    ...config,\n  }\n}\n","import type { Field } from 'payload'\n\nexport const createField = (overrites: Field): Field => {\n  const base = {}\n  const merged = { ...base, ...overrites }\n\n  return merged\n}\n\nexport const field = (props: Field): Field => createField(props)\n","import type { GlobalConfig } from 'payload'\n\nexport const createGlobalConfig = (config: GlobalConfig): GlobalConfig => {\n  return {\n    access: {\n      read: () => true,\n      ...config.access,\n    },\n    ...config,\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACKO,IAAM,eAAe,CAAC,WAAwB;AACnD,QAAM,SAAS,mBAAmB;AAAA,IAChC;AAAA,EACF,CAAC;AAED,SAAO;AACT;AAEO,IAAM,qBAAqB,CAAC,UAAmC;AACpE,QAAM,EAAE,OAAO,IAAI;AAEnB,MAAI,YACF,OAAO,KAAK,MAAM,EAAE,OAAO,CAAC,MAAM;AAChC,UAAM,gBAAgB,OAAO,CAAC;AAE9B,QAAI,OAAO,kBAAkB,aAAa,kBAAkB,OAAO;AACjE,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT,CAAC,KAAK,CAAC;AAET,QAAM,UAAU,IAAI,WAAuB;AAEzC,gBAAY,UAAU,OAAO,CAAC,QAAkB,CAAC,OAAO,SAAS,GAAG,CAAC;AACrE,WAAO;AAAA,EACT;AAEA,QAAM,SAAS,CAAC,cAAyD;AACvE,gBAAY,UAAU,OAAO,SAAS;AAAA,EACxC;AAEA,QAAM,OAAO,IAAI,WAAuB;AAEtC,gBAAY,UAAU,OAAO,CAAC,QAAkB,OAAO,SAAS,GAAG,CAAC;AACpE,WAAO;AAAA,EACT;AAEA,QAAM,QAAQ,CAAC,WAA8B;AAC3C,UAAM,SAAS,UAAU,IAAI,CAAC,QAAQ;AACpC,YAAM,QAAQ,OAAO,GAAG;AAExB,UAAI,CAAC,OAAO;AACV,gBAAQ,MAAM,SAAS,GAAG,wBAAwB;AAClD,eAAO;AAAA,MACT;AACA,aAAO,MAAM,MAAM;AAAA,IACrB,CAAC;AACD,WAAO,OAAO,OAAO,CAAC,MAAM,MAAM,IAAI;AAAA,EACxC;AAEA,QAAM,UAAU;AAAA,IACd;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAEA,SAAO;AACT;;;AC9DO,IAAM,cAAc,CAAC,UAAwB;AAClD,QAAM,wBAAwB,MAC5B,MAAM,KAAK,SAAS,OAAO,IAAI,MAAM,OAAO,GAAG,MAAM,IAAI;AAE3D,SAAO;AAAA,IACL,GAAG;AAAA,IACH,eAAe,OAAO,iBAAiB,sBAAsB;AAAA,EAC/D;AACF;;;ACRO,IAAM,yBAAyB,CAAC,WAA+C;AACpF,SAAO;AAAA,IACL,QAAQ;AAAA,MACN,MAAM,MAAM;AAAA,MACZ,GAAG,OAAO;AAAA,IACZ;AAAA,IACA,GAAG;AAAA,EACL;AACF;;;ACRO,IAAM,cAAc,CAAC,cAA4B;AACtD,QAAM,OAAO,CAAC;AACd,QAAM,SAAS,EAAE,GAAG,MAAM,GAAG,UAAU;AAEvC,SAAO;AACT;AAEO,IAAM,QAAQ,CAAC,UAAwB,YAAY,KAAK;;;ACPxD,IAAM,qBAAqB,CAAC,WAAuC;AACxE,SAAO;AAAA,IACL,QAAQ;AAAA,MACN,MAAM,MAAM;AAAA,MACZ,GAAG,OAAO;AAAA,IACZ;AAAA,IACA,GAAG;AAAA,EACL;AACF;","names":[]}